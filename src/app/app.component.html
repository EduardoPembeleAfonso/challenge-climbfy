<main>
  <div class="text-center mb-4 w-100 flex-column align-content-center justify-content-center position-relative"
    style="height: 200px; background-color: #7733FF;">
    <h1 class="text-white h2 fw-bold py-3 rounded" style="font-family: 'Inter', sans-serif;">
      <i class="bi bi-journal-text icon-size"></i> Lista de Tarefas
    </h1>

    <div class="d-flex justify-content-center position-absolute start-50 translate-middle-x h-25 custom-div-create" style="top: 85%; transform: translateY(-50%);">
      <div class="input-group gap-3">
        <input type="text" class="form-control rounded-3 custom-input" [(ngModel)]="newTask"
          placeholder="Adicione uma nova tarefa" />
        <button
          class="btn d-flex justify-content-between align-items-center gap-2 text-white rounded-3 custom-button-create"
          (click)="addTodo()">
          <span class="d-none d-md-inline">Criar</span>
          <i class="bi bi-plus-circle"></i>
        </button>
      </div>
    </div>


  </div>

  <div class="d-flex justify-content-around align-content-center px-2 px-md-5 m-md-5">
    <div class="d-flex justify-content-between mt-5 align-content-center gap-2 ms-md-3">
      <h5 class="title-resume">Criadas</h5>
      <span class="rounded-5 d-flex justify-content-center align-items-center text-white fs-6 total-task">{{
        todoList.length }}</span>
    </div>
    <div class="d-flex justify-content-between mt-5 align-content-center gap-2 me-3">
      <h5 class="sucess-text">Concluídas</h5>
      <span class="rounded-5 d-flex justify-content-center align-items-center text-white fs-6 completed-tasks">
        {{ completedTasksCount }}
      </span>
    </div>
  </div>

  <div class="text-center text-muted mt-5 mt-md-0 px-2 px-md-0" *ngIf="todoList.length === 0">
    <i class="bi bi-clipboard-minus fs-1"></i>
    <h5 class="title-empty-list fw-medium">Você ainda não tem tarefas cadastradas</h5>
    <h6 class="subtitle-empty-list fw-normal">Crie tarefas e organize seus itens a fazer</h6>
  </div>

  <ul class="list-group d-flex justify-content-start align-items-center gap-3 mt-5 mt-md-0" *ngIf="todoList.length > 0">
    <li class="list-group-item d-flex justify-content-between align-items-center rounded-3 div-item-task"
      *ngFor="let item of todoList" [ngClass]="{
      'div-item-task': !item.completed, 
      'div-item-checked': item.completed 
    }">
      <div class="d-flex flex-row w-100">
        <input type="checkbox" class="form-check-input rounded-5 me-3" [checked]="item.completed"
          (change)="toggleComplete(item.id)" [ngClass]="{
          'div-item-checkbox': !item.completed, 
          'div-item-checkbox-checked': item.completed 
        }" />

        <h5 [class.text-decoration-line-through]="item.completed" class="fw-normal custom-text-task mt-1 mt-sm-0">{{ item.task }}</h5>
      </div>
      <button class="btn border-0 bg-transparent" (click)="deleteTodo(item.id)">
        <i class="bi bi-trash fs-4"></i>
      </button>
    </li>
  </ul>

</main>

<router-outlet />